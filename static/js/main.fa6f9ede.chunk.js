(this.webpackJsonppadmobile=this.webpackJsonppadmobile||[]).push([[0],{151:function(e,t,r){},166:function(e,t,r){"use strict";r.r(t);r(151);var a=r(71),o=r(9),n=r(0),i=r.n(n),c=r(103),s=r(242),l=r(122),u=r(234),d=r(241),p=Object(d.a)((function(e){return{container:{display:"grid",gridTemplateColumns:"100vw",alignItems:"center",justifyItems:"center",marginTop:"50px",color:"#272F4A"},dataGridContainer:{height:700,width:"950px"},appTitle:{"&.MuiTypography-root":{fontFamily:"'Manrope', sans-serif",color:"var(--deep-blue)"},paddingBottom:"20px"},selector:{"&.MuiAutocomplete-root, .MuiInputLabel-root, .MuiAutocomplete-popupIndicator, .MuiAutocomplete-input, .MuiAutocomplete-noOption, .MuiAutocomplete-inputRoot, .MuiAutocomplete-option, .MuiAutocomplete-clearIndicator":{fontFamily:"'Manrope', sans-serif",color:"var(--deep-blue)"},"&.MuiAutocomplete-root, .MuiInputLabel-shrink, .MuiAutocomplete-popupIndicator":{color:"#076c56"},paddingBottom:"10px"},listbox:{fontFamily:"Manrope, sans-serif",color:"var(--deep-blue)","& li:hover":{backgroundColor:"rgb(248 245 246)",color:"var(--allow-green)"},"& li:nth-child(even):hover":{backgroundColor:"rgb(248 245 246)"},"& li:nth-child(odd):hover":{backgroundColor:"rgb(248 245 246)"}},popper:{},dataGrid:{"&.MuiDataGrid-root":{fontFamily:"'Manrope', sans-serif",color:"var(--deep-blue)"},"&.MuiDataGrid-root .MuiDataGrid-cell--textRight.MuiDataGrid-cell--withRenderer,&.MuiDataGrid-root .MuiDataGrid-cell:focus":{outline:"none"},"&&.MuiDataGrid-root .MuiTablePagination-root":{color:"var(--deep-blue)"},"&&.MuiDataGrid-root .MuiTablePagination-actions, .MuiTablePagination-select, .MuiTablePagination-selectLabel, .MuiTablePagination-displayedRows":{fontFamily:"'Manrope', sans-serif",color:"var(--deep-blue)"},"&.MuiDataGrid-root .MuiDataGrid-columnHeaderTitle":{textAlign:"center",fontSize:"1.1em"},"&.MuiDataGrid-root .MuiDataGrid-columnHeaders":{backgroundColor:"var(--deep-blue)",color:"#fff",fontSize:"1em"},"&.MuiDataGrid-root .MuiDataGrid-columnHeaderTitleContainer":{justifyContent:"center"},"&.MuiDataGrid-root .MuiDataGrid-row:hover":{backgroundColor:"rgb(248 245 246)",color:"var(--allow-green)"},"&.MuiButton-root":{backgroundColor:"var(--allow-green)"},"&.MuiDataGrid-root .MuiDataGrid-sortIcon":{color:"#fff"}},button:{"&.MuiButton-root":{fontFamily:"'Manrope', sans-serif",borderRadius:"0",backgroundColor:"var(--almost-red)"},"&.MuiButton-root:hover":{backgroundColor:"var(--allow-green)"}},bookedButton:{"&.MuiButton-root":{fontFamily:"'Manrope', sans-serif",borderRadius:"0",backgroundColor:"var(--allow-green)"}},alert:{"&.MuiAlert-root":{fontFamily:"'Manrope', sans-serif"}},box:{width:"950px","@media (max-width: 950px)":{width:"90%"}},row:{color:"#272F4A"},h3:{color:"#076c56"}}})),b=r(23),j=r.n(b),h=r(117),m=r(245),f="Veuillez nous excuser, une erreur technique est survenue!",g="Votre r\xe9servation n'a pas \xe9t\xe9 enregistr\xe9.",v="Votre r\xe9servation a \xe9t\xe9 bien enregistr\xe9.",x="Choisissez votre arr\xeat",O="R\xe9server",M="*R\xe9serv\xe9*",w="R\xe9server votre trajet",y=r(2),C=function(e){var t=e.id,r=e.showAlert,a=e.setStatus,i=e.setMessage,c=p(),s=Object(n.useState)(!1),l=Object(o.a)(s,2),u=l[0],d=l[1],b=Object(n.useState)(!1),x=Object(o.a)(b,2),w=x[0],C=x[1],G=function(){var e=Object(h.a)(j.a.mark((function e(t){var o,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),C(!0),e.prev=2,e.next=5,fetch("".concat("https://6130d11c8066ca0017fdaa97.mockapi.io/book/").concat(t),{method:"PUT",headers:{"Content-type":"application/json"}});case 5:return o=e.sent,e.next=8,o.json();case 8:(n=e.sent)&&n.success?(a("success"),i(v),d(!0)):(a("error"),i(f+", "+g)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),a("error"),i(f+", "+g);case 16:C(!1),r();case 18:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(m.a,{className:c.button,disabled:u,variant:"contained",size:"small",loading:w,onClick:function(){return G(t)},children:u?M:O})},G=function(e){var t=Object(n.useState)(),r=Object(o.a)(t,2),a=r[0],i=r[1],c=Object(n.useState)(),s=Object(o.a)(c,2),l=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(o.a)(d,2),b=p[0],j=p[1];return Object(n.useEffect)((function(){j(!0),fetch(e).then((function(e){return e.json()})).then(i).catch(u).finally((function(){return j(!1)}))}),[e]),{data:a,error:l,loading:b}},S=function(e){var t=new Date(e),r=t.toLocaleDateString(),a=t.toLocaleTimeString().split(":");return[r,a=a[0]+"h"+a[1]]};function A(e){var t=e.showAlert,r=e.setStatus,a=e.setMessage,i=p(),c=Object(n.useContext)(R),s="".concat("https://6130d11c8066ca0017fdaa97.mockapi.io/trips").concat(c?"?departureStop=".concat(c):""),d=G(s),b=d.data,j=d.error,h=d.loading;!h&&j&&(r("error"),a(f),t());var m=[{field:"departureStop",headerName:"Arr\xeat de d\xe9part",width:200,marginLeft:20},{field:"departureTime",headerName:"Horaire de d\xe9part",width:200,align:"center",renderCell:function(e){var t=S(e.value),r=Object(o.a)(t,2),a=r[0],n=r[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("small",{children:a}),Object(y.jsx)(u.a,{sx:{marginLeft:"5px",marginRight:"5px"},orientation:"vertical",variant:"middle",flexItem:!0,light:!0}),Object(y.jsx)("h3",{className:i.h3,children:n})]})}},{field:"arrivalStop",headerName:"Arr\xeat d'arriv\xe9e",width:200,align:"center"},{field:"arrivalTime",headerName:"Horaire d'arriv\xe9e",width:200,align:"center",renderCell:function(e){var t=S(e.value),r=Object(o.a)(t,2),a=r[0],n=r[1];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("small",{children:a}),Object(y.jsx)(u.a,{sx:{marginLeft:"5px",marginRight:"5px"},orientation:"vertical",variant:"middle",flexItem:!0,light:!0}),Object(y.jsx)("h3",{className:i.h3,children:n})]})}},{field:"action",headerName:"Action",width:150,align:"right",renderCell:function(e){return Object(y.jsx)(C,{id:e.row.id,showAlert:t,setStatus:r,setMessage:a})}}];return Object(y.jsx)("div",{className:i.dataGridContainer,children:Object(y.jsx)("div",{style:{display:"flex",height:"90%"},children:Object(y.jsx)("div",{style:{flexGrow:1},children:Object(y.jsx)(l.a,{className:i.dataGrid,rows:b&&"Not found"!==b?b:[],columns:m,disableSelectionOnClick:!0,loading:h,rowHeight:60})})})})}var k=r(246),D=r(177),T=r(247),N=r(244),I=r(248);function F(e){var t=e.isOpen,r=e.severity,a=e.message,o=p();return Object(y.jsx)(T.a,{className:o.box,children:Object(y.jsx)(I.a,{in:t,children:Object(y.jsx)(N.a,{severity:r,sx:{mb:2},className:o.alert,children:a})})})}var R=Object(n.createContext)(""),P=function(){var e=p(),t=Object(n.useState)(""),r=Object(o.a)(t,2),i=r[0],l=r[1],u=Object(n.useState)(!1),d=Object(o.a)(u,2),b=d[0],j=d[1],h=Object(n.useState)("success"),m=Object(o.a)(h,2),g=m[0],v=m[1],O=Object(n.useState)(""),M=Object(o.a)(O,2),C=M[0],S=M[1],T=function(){j(!0),setTimeout((function(){return j(!1)}),4e3)},N=G("https://6130d11c8066ca0017fdaa97.mockapi.io/stops"),I=N.data,P=N.error,B=N.loading;return!B&&P&&(v("error"),S(f),T()),Object(y.jsx)(R.Provider,{value:i,children:Object(y.jsxs)("div",{className:e.container,children:[Object(y.jsx)(k.a,{variant:"h4",className:e.appTitle,children:w}),Object(y.jsx)(s.a,{id:"autocomplete",className:e.selector,classes:{paper:e.paper,listbox:e.listbox,popper:e.popper},sx:{width:300,marginBottom:3},options:I||[],onChange:function(e,t){return l(t)},renderInput:function(e){return Object(y.jsx)(c.a,Object(a.a)(Object(a.a)({},e),{},{label:x,InputProps:Object(a.a)(Object(a.a)({},e.InputProps),{},{endAdornment:Object(y.jsxs)(y.Fragment,{children:[B?Object(y.jsx)(D.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))}}),Object(y.jsx)(F,{isOpen:b,severity:g,message:C}),Object(y.jsx)(A,{showAlert:T,setStatus:v,setMessage:S})]})})},B=r(50);r.n(B).a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(P,{})}),document.querySelector("#root"))}},[[166,1,2]]]);
//# sourceMappingURL=main.fa6f9ede.chunk.js.map